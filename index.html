
  <!-- 
  https://github.com/akakadir/for-couples.html (v1.0)
  made with js & a bit love </3
                                                  -->

<!DOCTYPE html>
<html lang="tr">
<head>
<!-- begin favicon bridge -->
<link rel="apple-touch-icon" href="https://files.catbox.moe/ql68rw.png">
<link rel="icon" href="https://files.catbox.moe/ql68rw.png">
<!--[if IE]><link rel="shortcut icon" href="path/to/favicon.ico"><![endif]-->
<!-- or, set /favicon.ico for IE10 win -->
<meta name="msapplication-TileColor" content="">
<meta name="msapplication-TileImage" content="https://files.catbox.moe/ql68rw.png">
  <!-- end -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>//tu√ßem'e</title>
  <style>
    body, html {
      margin: 0;
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: 'Courier New', Courier, monospace;
      color: #d4d4d4;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #2e2e2e;
      overflow-y: hidden;
      flex-direction: column;
    }
    /* 
       for OUT
               */
    .notepad-container {
      position: relative;
      width: 75%;
      max-width: 600px;
      height: 75vh;
      overflow: hidden;
      border-radius: 5px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.7);
      z-index: 1;
    }
    /* 
       for IN
               */
    .notepad {
      position: relative;
      width: 100%;
      height: 100%;
      background: #2d2d2d;
      border: 1px solid #444;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      overflow-y: auto;
      overflow-x: hidden;
      line-height: 1.6;
    }

    .guide-lines {
      position: absolute;
      left: 70px;
      top: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(to bottom, #2d2d2d, #2d2d2d 24px, #3a3a3a 25px);
      pointer-events: none;
    }

    .red-line {
      position: absolute;
      left: 60px;
      top: 0;
      width: 2px;
      height: 100%;
      background-color: #53a245;
      pointer-events: none;
    }

    .content {
      position: relative;
      z-index: 2;
      white-space: pre-wrap;
      word-wrap: break-word;
      margin-left: 70px;
      padding-right: 10px;
    }

    .content a {
      color: #53a245;
      text-decoration: none;
    }

    .content a:hover {
      text-decoration: underline;
    }

    @media screen and (max-width: 768px) {
      .notepad-container {
        width: 75%;
        height: 75vh;
      }

      .notepad {
        padding: 15px;
      }

      .guide-lines {
        left: 50px;
      }

      .red-line {
        left: 40px;
      }

      .content {
        margin-left: 50px;
        padding-right: 15px;
      }
    }

    @media screen and (max-width: 480px) {
      .notepad-container {
        width: 75%;
        height: 75vh;
      }

      .notepad {
        padding: 10px;
      }

      .guide-lines {
        left: 30px;
      }

      .red-line {
        left: 20px;
      }

      .content {
        margin-left: 30px;
        padding-right: 20px;
      }
    }

    #playPauseBtn {
      position: absolute;
      top: 5px;
      left: 5px;
      background: none;
      border: none;
      cursor: pointer;
      z-index: 1000;
    }

    #playPauseBtn img {
      width: 5vh;
      height: 5vh;
    }

    .heart {
      position: fixed;
      font-size: 1.5rem;
      top: -1vh;
      transform: translateY(0);
      animation: fall 3s linear forwards;
    }

    @keyframes fall {
      from {
        transform: translateY(0vh) translateX(-10vw);
      }
      to {
        transform: translateY(105vh) translateX(10vw);
      }
    }

    #kad, #tuce {
      color: #53a245;
    }

  </style>
</head>
<body>
  <div class="notepad-container">
    <div class="notepad">
      <div class="guide-lines"></div>
      <div class="red-line"></div>
      <div class="content" id="content"></div>
    </div>
  </div>

  <button id="playPauseBtn">
    <img id="playIcon" src="https://files.catbox.moe/qxi0yr.svg" alt="Par√ßayƒ± Ba≈ülat">
  </button>

  <audio id="audio" src="https://files.catbox.moe/h6ipzv.mp3" hidden></audio>

  <script>
    //Audio Mp3 Begin
    const audio = document.getElementById('audio');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playIcon = document.getElementById('playIcon');

    playPauseBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        playIcon.src = 'https://files.catbox.moe/mhzicg.svg';
      } else {
        audio.pause();
        playIcon.src = 'https://files.catbox.moe/qxi0yr.svg';
      }
    });

    audio.addEventListener('ended', () => {
      playIcon.src = 'https://files.catbox.moe/zce1g9.svg';
    });
    // End

    // begin Fetching .md file
    async function fetchMarkdownFile() {
      try {
        const response = await fetch('https://files.catbox.moe/prm472.md'); //  <-- Url
        if (!response.ok) throw new Error('Dosya bulunamadƒ±.');
        return await response.text();
      } catch (error) {
        console.error(error);
        return 'Dosya y√ºklenirken bir hata olu≈ütu.';
      }
    }
    // End
    
    // Text To Hyperlink, Anchor
    function convertMarkdownToHTML(markdown) {
      const linkRegex = /\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g;
      let html = markdown.replace(linkRegex, '<a href="$2" target="_blank">$1</a>');

      html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
      html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
      return html;
    }
    // End
    
    // begin Typing effect
    async function typeEffect(content, elementId, delay = 15) {
      const element = document.getElementById(elementId);
      let insideTag = false;
      let typedText = '';

      for (let i = 0; i < content.length; i++) {
        if (content[i] === '<') {
          insideTag = true;
        }

        typedText += content[i];

        if (content[i] === '>') {
          insideTag = false;
        }

        element.innerHTML = typedText;

        await new Promise(resolve => setTimeout(resolve, delay));
      }
    }
    // End


    // begin Scroll stuffs
    async function adjustNotepadHeight() {
      const viewportHeight = window.innerHeight;
      const notepadContainerHeight = document.querySelector('.notepad-container').offsetHeight;
      const notepad = document.querySelector('.notepad');

      if (notepad.scrollHeight > viewportHeight) {
        notepad.style.height = `${viewportHeight}px`;
      } else {
        notepad.style.height = `${notepadContainerHeight}px`;
      }
    }
    // End

    // begin Spotify current listening fetch...
    (async () => {
      const kadResponse = await fetch('https://spotify.aidenwallis.co.uk/u/63a218d8d1def76279e0eec8');
      const tuceResponse = await fetch('https://spotify.aidenwallis.co.uk/u/679739427910026493b55960');
      
      const kadText = await kadResponse.text();
      const tuceText = await tuceResponse.text();

      let markdownHTML = await fetchMarkdownFile();
      markdownHTML = markdownHTML
        .replace('{def1}', kadText.replace('User is currently not playing any music on Spotify.', 'onu').replace('Error: Request failed with status code 429', 'onu'))
        .replace('{def2}', tuceText.replace('User is currently not playing any music on Spotify.', 'beni').replace('Error: Request failed with status code 429', 'beni'));

      await typeEffect(convertMarkdownToHTML(markdownHTML), 'content', 15);
    })();
    // End

    // begin more stuffs for scroll
    const notepad = document.querySelector('.notepad');
    const guideLines = document.querySelector('.guide-lines');
    const redLine = document.querySelector('.red-line');

    notepad.addEventListener('scroll', () => {
      const scrollTop = notepad.scrollTop;
      guideLines.style.transform = `translateY(${scrollTop}px)`;
      redLine.style.transform = `translateY(${scrollTop}px)`;
    });

    window.addEventListener('resize', adjustNotepadHeight);
    adjustNotepadHeight();
    // End

    // begin Heart Rain
    // https://codepen.io/shubhamsingh718356/pen/PoGNVBb
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');

      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = Math.random() * 2 + 3 + "s";

      heart.innerText = 'üíó';

      document.body.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 5000);
    }

    setInterval(createHeart, 300); // <-- Speed
    // End
  </script>
</body>
</html>
